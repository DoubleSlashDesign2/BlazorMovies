

<input type="checkbox" @bind="@displayButtons" />


<GenericList Lists="MoviesList">
    <ElementTemplate Context="movie">
        <IndiviualMovie Movie="movie" DisplayButtons="displayButtons" DeleteMovie="DeleteMovie" />
    </ElementTemplate>
</GenericList>


@code {
    [Parameter] public List<Movie> MoviesList { get; set; }


    //[Parameter] public RenderFragment ChildContent { get; set; } // if you only have 1 RenderFragement use ChildContent ( its built in )


    bool displayButtons = true;  // show checkbok to be checked(its data bound)

    //-- Invoked using delegate EventCallback
    void DeleteMovie(Movie movie)
    {
        MoviesList.Remove(movie);
    }
    protected override void OnInitialized()
    {
        Console.WriteLine(@"OnInitialized. Movies.Count = {0}", MoviesList.Count);
    }
    protected override void OnParametersSet()
    {
        Console.WriteLine(@"OnParametersSet. Movies.Count = {0}", MoviesList.Count);
    }
    protected override void OnAfterRender(bool firstRender)
    {
        Console.WriteLine(@"OnAfterRender. Movies.Count = {0} firstRender={1}", MoviesList.Count, firstRender);
    }
    protected override bool ShouldRender()
    {
        // Yes should re-render every time
        // -- If you set this to no then the Dynamic @razor code will not re-fire again
        return true;  
    }



}
